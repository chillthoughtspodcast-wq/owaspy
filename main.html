<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Django vs. OWASP Top 10 Security</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .gradient-text {
            background: linear-gradient(to right, #00A6A6, #77D977);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .risk-bar {
            display: flex;
            height: 1rem;
            width: 100%;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #e0e0e0;
        }
        .risk-framework { background-color: #00A6A6; }
        .risk-developer { background-color: #F29727; }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md">
        <div class="container mx-auto px-6 py-8 text-center">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">Django vs. the <span class="gradient-text">OWASP Top 10</span></h1>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">An analysis of the framework's built-in strengths and where developer vigilance remains critical.</p>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <section class="text-center mb-12">
            <h2 class="text-3xl font-bold mb-4">Django's Proactive Defense Score</h2>
            <p class="max-w-2xl mx-auto text-gray-600 mb-6">Django's "batteries-included" philosophy provides robust, out-of-the-box protection against a majority of common web vulnerabilities. This score represents the proportion of security concerns the framework actively mitigates versus those that require careful implementation by the developer.</p>
            <div class="bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto">
                <div class="chart-container h-64 md:h-80">
                    <canvas id="defenseScoreChart"></canvas>
                </div>
            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8">OWASP Top 10: Threat Breakdown</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A01: Broken Access Control</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Ensuring users cannot act outside of their intended permissions. This is the most common vulnerability category.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 70%;"></div><div class="risk-developer" style="width: 30%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Provides a robust authentication and permissions framework, including `LoginRequiredMixin` and `PermissionRequiredMixin`.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must correctly apply these tools and implement fine-grained, object-level permissions where necessary. A forgotten mixin can expose an entire view.</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A02: Cryptographic Failures</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Protecting data in transit and at rest, such as passwords and personal information. Often related to weak algorithms or improper configuration.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 95%;"></div><div class="risk-developer" style="width: 5%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Manages password hashing (PBKDF2, Argon2) and secure session handling automatically. Encourages HTTPS via settings.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must enable HTTPS in production and avoid manually implementing custom, weak cryptographic functions.</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A03: Injection</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Occurs when untrusted data is sent to an interpreter as part of a command or query, tricking it into executing unintended commands.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 90%;"></div><div class="risk-developer" style="width: 10%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> The ORM parameterizes queries, preventing SQL injection. Templates auto-escape variables, preventing XSS.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Vulnerabilities can be introduced by using raw SQL queries improperly or marking safe strings for un-escaping without sanitization.</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A04: Insecure Design</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">A broad category representing flaws in the application's logic and architecture that create vulnerabilities, often before code is even written.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 20%;"></div><div class="risk-developer" style="width: 80%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Provides secure patterns (e.g., MVC/MVT), but cannot enforce secure application logic.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> This is almost entirely a developer responsibility. Threat modeling and secure design principles must be applied throughout the development lifecycle.</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A05: Security Misconfiguration</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Incorrectly configured security settings, such as running in debug mode in production, verbose error messages, or improper HTTP headers.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 50%;"></div><div class="risk-developer" style="width: 50%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Provides a comprehensive settings file and a deployment checklist to highlight key production settings.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must diligently follow the checklist, disable debug mode, configure `ALLOWED_HOSTS`, and manage secrets securely (not in version control).</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A06: Vulnerable Components</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Using libraries, frameworks, or other software modules with known security vulnerabilities.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 30%;"></div><div class="risk-developer" style="width: 70%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> The core team has a strong security policy and releases patches promptly for discovered vulnerabilities.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Responsible for keeping Django and all third-party packages up-to-date. Using outdated packages is a major risk factor.</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A07: Identification Failures</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Issues with user identity, authentication, and session management, including weak password policies or insecure session handling.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 85%;"></div><div class="risk-developer" style="width: 15%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Provides a complete, secure authentication system with session management, password hashing, and login/logout mechanisms.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must implement multi-factor authentication if needed and avoid common pitfalls like logging sensitive information.</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A08: Software & Data Integrity</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Failures related to code and infrastructure that does not protect against integrity violations, such as insecure deserialization.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 75%;"></div><div class="risk-developer" style="width: 25%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Signed session cookies prevent tampering. The ORM helps ensure data integrity at the database level.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must ensure CI/CD pipelines are secure and be cautious when using serialization formats like Pickle with untrusted data.</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A09: Security Logging & Monitoring</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Insufficient logging and monitoring, which can allow attackers to operate undetected for extended periods.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 40%;"></div><div class="risk-developer" style="width: 60%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Includes Python's powerful logging framework and sends emails to admins on server errors by default.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must configure logging to capture relevant security events (logins, failures, etc.) and integrate with external monitoring tools.</p>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col">
                    <h3 class="text-xl font-bold mb-2">A10: SSRF</h3>
                    <p class="text-gray-600 text-sm mb-4 flex-grow">Server-Side Request Forgery flaws allow an attacker to induce the server-side application to make requests to an unintended location.</p>
                    <div class="mt-auto">
                        <h4 class="font-semibold text-sm mb-1">Framework vs. Developer</h4>
                        <div class="risk-bar mb-2"><div class="risk-framework" style="width: 10%;"></div><div class="risk-developer" style="width: 90%;"></div></div>
                        <p class="text-xs text-gray-500"><b class="text-teal-600">Django:</b> Does not have a specific, direct defense as this is highly application-logic dependent.</p>
                        <p class="text-xs text-gray-500"><b class="text-orange-500">Developer:</b> Must validate and sanitize all user-supplied URLs or data used to construct requests. Implement allow-lists for target domains.</p>
                    </div>
                </div>

            </div>
        </section>

        <section class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-4">Vulnerability Hotspots</h2>
            <p class="max-w-3xl mx-auto text-center text-gray-600 mb-8">While Django provides a secure foundation, certain vulnerability categories are more prone to developer error than others. This chart ranks the OWASP Top 10 by the estimated risk originating from implementation choices rather than framework flaws.</p>
            <div class="bg-white rounded-lg shadow-lg p-6">
                 <div class="chart-container h-96 md:h-[500px]">
                    <canvas id="vulnerabilityHotspotsChart"></canvas>
                </div>
            </div>
        </section>
        
        <section>
            <h2 class="text-3xl font-bold text-center mb-4">Developer's Security Checklist</h2>
            <p class="max-w-3xl mx-auto text-center text-gray-600 mb-8">Security is a shared responsibility. Adhere to these best practices to build secure Django applications.</p>
            <div class="bg-white rounded-lg shadow-lg p-8">
                <ul class="space-y-4">
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Keep Dependencies Updated:</b> Regularly run `pip list --outdated` and update Django and third-party packages. Use tools like `pip-audit`.</div></li>
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Run Deployment Check:</b> Always run `python manage.py check --deploy` before pushing to production and fix all warnings.</div></li>
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Secure Secrets:</b> Never commit `SECRET_KEY`, database passwords, or API keys to version control. Use environment variables or a secrets management tool.</div></li>
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Validate & Sanitize Input:</b> Use Django Forms for all user input. They provide robust validation and sanitization. Be extra careful with data used to build URLs or system commands.</div></li>
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Enforce Access Control:</b> Apply `LoginRequiredMixin`, `PermissionRequiredMixin`, or custom permission checks to all relevant views. Implement object-level permissions for granular control.</div></li>
                    <li class="flex items-start"><span class="text-teal-500 font-bold mr-3">✓</span><div><b class="font-semibold">Configure Logging:</b> Set up comprehensive logging to capture important security events, not just application errors. Forward logs to a central monitoring system.</div></li>
                </ul>
            </div>
        </section>

    </main>
    
    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto p-6 text-center text-sm">
            <p>Infographic created for educational purposes. Data is illustrative.</p>
            <p>&copy; 2025 Security Insights Inc. All rights reserved.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const wrapLabel = (label) => {
        if (label.length <= 16) {
            return label;
        }
        const words = label.split(' ');
        const lines = [];
        let currentLine = '';
        words.forEach(word => {
            if ((currentLine + ' ' + word).length > 16 && currentLine.length > 0) {
                lines.push(currentLine);
                currentLine = word;
            } else {
                currentLine = currentLine ? currentLine + ' ' + word : word;
            }
        });
        lines.push(currentLine);
        return lines;
    };

    const tooltipTitleCallback = (tooltipItems) => {
        const item = tooltipItems[0];
        let label = item.chart.data.labels[item.dataIndex];
        if (Array.isArray(label)) {
          return label.join(' ');
        }
        return label;
    };

    const defenseScoreCtx = document.getElementById('defenseScoreChart');
    if (defenseScoreCtx) {
        new Chart(defenseScoreCtx, {
            type: 'doughnut',
            data: {
                labels: ['Framework Protection', 'Developer Responsibility'],
                datasets: [{
                    label: 'Defense Responsibility',
                    data: [80, 20],
                    backgroundColor: [
                        '#00A6A6',
                        '#F29727'
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 14,
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            }
        });
    }

    const vulnerabilityHotspotsCtx = document.getElementById('vulnerabilityHotspotsChart');
    if(vulnerabilityHotspotsCtx) {
        const rawLabels = [
            'A10: Server-Side Request Forgery', 
            'A04: Insecure Design', 
            'A06: Vulnerable & Outdated Components',
            'A09: Security Logging & Monitoring Failures',
            'A05: Security Misconfiguration',
            'A08: Software and Data Integrity Failures',
            'A01: Broken Access Control', 
            'A07: Identification & Authentication Failures', 
            'A03: Injection', 
            'A02: Cryptographic Failures'
        ];

        new Chart(vulnerabilityHotspotsCtx, {
            type: 'bar',
            data: {
                labels: rawLabels.map(wrapLabel),
                datasets: [{
                    label: 'Developer-Attributed Risk',
                    data: [90, 80, 70, 60, 50, 25, 30, 15, 10, 5],
                    backgroundColor: [
                        '#F23D3D',
                        '#F23D3D',
                        '#F29727',
                        '#F29727',
                        '#F29727',
                        '#F2E41D',
                        '#F2E41D',
                        '#77D977',
                        '#77D977',
                        '#00A6A6'
                    ],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            callback: function(value) {
                                return value + '%'
                            }
                        },
                         grid: {
                            display: true,
                            color: 'rgba(200, 200, 200, 0.2)'
                        }
                    },
                    y: {
                         grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            title: tooltipTitleCallback,
                            label: function(context) {
                                return ` Risk Score: ${context.raw}%`;
                            }
                        }
                    }
                }
            }
        });
    }

});
</script>
</body>
</html>
